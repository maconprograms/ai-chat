<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat Assistant - Starling Strategy</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f5f5f5; /* Light gray background */
            overflow: hidden; /* Prevent scrollbars from appearing */
        }
        
        #chat-container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<body>

<div id="chat-container"></div>

<script>
// Function to get URL parameters
function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(param);
}

// Dynamically create and configure the script element for AnythingLLM chat widget
(function() {
    const script = document.createElement('script');
    script.setAttribute('data-embed-id', getQueryParam('embedId'));
    script.setAttribute('data-base-api-url', "https://murmuration.useanything.com/api/embed");
    script.src = "https://murmuration.useanything.com/embed/anythingllm-chat-widget.min.js";

    // Customization Options
    script.setAttribute('data-user-bg-color', '#800080'); // Purple
    script.setAttribute('data-assistant-bg-color', '#008000'); // Green
    script.setAttribute('data-brand-image-url', 'Starling-word.png'); // Relative URL to the logo
    script.setAttribute('data-greeting', 'Hey! I know a lot about NCTQ, teacher contracts and a bunch of other stuff. Let me know how I can help you today.');
    script.setAttribute('data-sponsor-link', 'https://starlingstrategy.com/');
    script.setAttribute('data-sponsor-text', 'Sponsored by Starling Strategy');
    script.setAttribute('data-position', 'top-left');
    script.setAttribute('data-assistant-name', 'NCTQ ChatBot');
    script.setAttribute('data-assistant-icon', 'Starling-icon.png'); // Relative URL to the assistant icon
    script.setAttribute('data-window-height', '100%'); // Full height
    script.setAttribute('data-window-width', 'calc(100% + 50%)'); // 50% wider
    script.setAttribute('data-text-size', '16px'); // Adjust text size as needed
    script.setAttribute('data-open-on-load', 'true');
    script.setAttribute('data-support-email', 'macon@starlingstrategy.com');

    document.getElementById('chat-container').appendChild(script);
})();
</script>

</body>
</html>
