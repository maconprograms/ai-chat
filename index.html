<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat Assistant</title>
    <style>
        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* Ensure full viewport height */
            background-color: #f5f5f5; /* Light gray background */
        }
    </style>
</head>
<body>

<!-- Directly embedding AnythingLLM Chat Widget without an additional container for simplicity -->
<script>
// Function to get URL parameters
function getQueryParam(param) {
    var queryString = window.location.search;
    var urlParams = new URLSearchParams(queryString);
    return urlParams.get(param);
}

// Dynamically create and configure the script element for AnythingLLM chat widget
(function() {
    var script = document.createElement('script');
    script.setAttribute('data-embed-id', getQueryParam('embedId'));
    script.setAttribute('data-base-api-url', "https://murmuration.useanything.com/api/embed");
    script.src = "https://murmuration.useanything.com/embed/anythingllm-chat-widget.min.js";

    // Customization Options
    script.setAttribute('data-user-bg-color', '#800080'); // Purple
    script.setAttribute('data-assistant-bg-color', '#008000'); // Green
    script.setAttribute('data-brand-image-url', 'https://github.com/maconprograms/ai-chat/blob/main/Starling-icon.png?raw=true');
    script.setAttribute('data-greeting', 'Hello fellow Starling! How can I help you?');
    script.setAttribute('data-sponsor-link', 'https://starlingstrategy.com/');
    script.setAttribute('data-sponsor-text', 'Sponsored by Starling Strategy');
    script.setAttribute('data-position', 'top-left');
    script.setAttribute('data-assistant-name', 'Starly');
    script.setAttribute('data-assistant-icon', 'https://github.com/maconprograms/ai-chat/blob/main/Starling-icon.png?raw=true');
    
    // Ensure chat opens automatically
    script.setAttribute('data-open-on-load', 'true');

    document.body.appendChild(script);
})();
</script>

</body>
</html>
